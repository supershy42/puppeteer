#!/bin/bash

COMMIT_MSG_FILE=$1

# ì²« ë²ˆì§¸ ì¤„ì—ì„œ prefix ì¶”ì¶œ
PREFIX=$(head -n 1 "$COMMIT_MSG_FILE" | awk '{print $1}')

# Gitmoji ë§¤í•‘
case $PREFIX in
    feat:)
        EMOJI="âœ¨"
        ;;
    fix:)
        EMOJI="ğŸ›"
        ;;
    docs:)
        EMOJI="ğŸ“"
        ;;
    style:)
        EMOJI="ğŸ’„"
        ;;
    refactor:)
        EMOJI="ğŸ”¨"
        ;;
    test:)
        EMOJI="ğŸ§ª"
        ;;
    chore:)
        EMOJI="ğŸ’š"
        ;;
    *)
        EMOJI=""
        ;;
esac

# Gitmojiê°€ ìˆìœ¼ë©´ ì²« ë²ˆì§¸ ì¤„ì— ì¶”ê°€
if [[ ! -z "$EMOJI" ]]; then
    sed -i.bak "1s/^/$EMOJI /" "$COMMIT_MSG_FILE"
fi